{% load static %}
{% load tz %}

<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>wavesurfer.js | Angular</title>

        <link href="data:image/gif;" rel="icon" type="image/x-icon" />

        <!-- Bootstrap -->
        <!-- <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" rel="stylesheet"> -->


        <!-- AngularJS -->
        <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>

        <!-- wavesurfer.js -->
        <!-- <script src="../../dist/wavesurfer.js"></script> -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/wavesurfer.js/1.0.53/wavesurfer.min.js"></script>
        <!-- App -->
        
        <script src= {% static 'assets/js/audio_v2.js' %}></script>
    </head>

    <body ng-app="ngWavesurfer" ng-controller="PlaylistController">
        <div class="container">
            <div id="demo">
                <div class="row" style="margin: 10px 0">
                    <div class="col-sm-10">
                        <ng-wavesurfer url="" wave-color="#337ab7" progress-color="#23527c" height="64">
                        </ng-wavesurfer>
                    </div>

                    <div class="col-sm-2">
                        <button class="btn btn-success btn-block" ng-click="wavesurfer.playPause()">
                            <span id="play" ng-show="paused">
                                <i class="glyphicon glyphicon-play"></i>
                                Play
                            </span>

                            <span id="pause" ng-show="!paused">
                                <i class="glyphicon glyphicon-pause"></i>
                                Pause
                            </span>
                        </button>
                    </div>
                </div>

                <div class="list-group" id="playlist">
                    {% for audio in audio_list %}
                      <a href=""
                        ng-class={{ "{'list-group-item':true,active:isPlaying('"|add:audio.url|add:"')}" }} 
                        ng-click={{ "play('"|add:audio.url|add:"')" }} 
                      > 
                          <i class="glyphicon glyphicon-play"></i>
                          {{audio.time}}
                          <span class="badge" style="background-color:#262B40">{{audio.length}}</span>
                      </a>
                    {% endfor %}


                </div>
            </div>
        </div>
    </body>
</html>